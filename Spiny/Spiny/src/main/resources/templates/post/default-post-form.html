<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <title>Create Default Post</title>
</head>
<body>
<div th:if="${session.user}">
  <p th:text="'Name: ' + ${session.user.firstName} + ', surname: ' + ${session.user.lastName} + ', email: ' + ${session.user.email}"></p>
</div>
<h2>Create post</h2>
<div>
  <form th:action="@{/post/processDefaultPostForm}" method="post">
    Template name: <span th:text="${post.title}"></span><br>
    <input type="hidden" name="communityId" th:value="${post.community.id}">


    <div th:each="field, fieldIndex : ${DataFields}">
      <div class="form-group">

        <label th:text="${field.name}"></label>
        <input type="hidden" th:name="id.__${fieldIndex.index}__" th:value="${field.id}"/>
        <input type="text" th:name="value.__${fieldIndex.index}__" th:value="${field.inputValue}"/>


      </div>
    </div>

    <!-- Submit button -->
    <div class="form-group">
      <div class="col-sm-12">
        <button type="submit" class="btn btn-primary">Create</button>
      </div>
    </div>
  </form>
</div>
</body>
</html>
